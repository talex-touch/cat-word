<script setup lang="ts">
defineProps<{
  container?: boolean
}>()
</script>

<template>
  <div :class="{ container }" class="Loading">
    <svg class="leaf" viewBox="0 0 24 24">
      <path
        class="fill"
        d="M14.714 5.343c-.682-1.05-1.547-1.873-2.254-2.23A1 1 0 0 0 12 3a1 1 0 0 0-.46.112c-.707.358-1.571 1.18-2.254 2.231a8.2 8.2 0 0 0-1.033 2.289c-.722-.448-1.507-.77-2.437-1.08a1 1 0 0 0-1.296.752c-.257 1.285-.413 2.558-.192 3.807a6.1 6.1 0 0 0 .833 2.184a7.5 7.5 0 0 0-1.716.873a1 1 0 0 0-.373 1.204c.29.723 1.02 1.503 2.368 2.154c1.216.587 2.989 1.098 5.56 1.382V21a1 1 0 1 0 2 0v-2.092c2.572-.284 4.344-.796 5.56-1.382c1.347-.65 2.079-1.43 2.369-2.154a1 1 0 0 0-.374-1.204a7.5 7.5 0 0 0-1.716-.873c.431-.699.7-1.423.833-2.184c.22-1.25.066-2.522-.191-3.807a1 1 0 0 0-1.297-.752c-.93.31-1.714.632-2.437 1.08a8.2 8.2 0 0 0-1.033-2.289 M13 16.895c2.294-.27 3.766-.724 4.69-1.17a5 5 0 0 0 .756-.44C17.763 15 17.301 15 17.03 15H17a1 1 0 0 1-.707-1.707c.869-.869 1.261-1.687 1.41-2.53c.102-.576.095-1.197.01-1.9c-.804.347-1.403.741-2.006 1.344A1 1 0 0 1 14 9.5c0-1.161-.416-2.225-.964-3.068A6 6 0 0 0 12 5.215a6 6 0 0 0-1.036 1.217C10.416 7.275 10 8.34 10 9.5a1 1 0 0 1-1.707.707c-.603-.603-1.201-.997-2.005-1.345c-.086.704-.092 1.325.01 1.902c.148.842.54 1.66 1.41 2.53A1 1 0 0 1 7 15h-.03c-.27 0-.733-.001-1.416.285c.191.137.438.286.756.44c.924.446 2.396.9 4.69 1.17V14a1 1 0 1 1 2 0z"
      />
      <path
        d="M14.714 5.343c-.682-1.05-1.547-1.873-2.254-2.23A1 1 0 0 0 12 3a1 1 0 0 0-.46.112c-.707.358-1.571 1.18-2.254 2.231a8.2 8.2 0 0 0-1.033 2.289c-.722-.448-1.507-.77-2.437-1.08a1 1 0 0 0-1.296.752c-.257 1.285-.413 2.558-.192 3.807a6.1 6.1 0 0 0 .833 2.184a7.5 7.5 0 0 0-1.716.873a1 1 0 0 0-.373 1.204c.29.723 1.02 1.503 2.368 2.154c1.216.587 2.989 1.098 5.56 1.382V21a1 1 0 1 0 2 0v-2.092c2.572-.284 4.344-.796 5.56-1.382c1.347-.65 2.079-1.43 2.369-2.154a1 1 0 0 0-.374-1.204a7.5 7.5 0 0 0-1.716-.873c.431-.699.7-1.423.833-2.184c.22-1.25.066-2.522-.191-3.807a1 1 0 0 0-1.297-.752c-.93.31-1.714.632-2.437 1.08a8.2 8.2 0 0 0-1.033-2.289 M13 16.895c2.294-.27 3.766-.724 4.69-1.17a5 5 0 0 0 .756-.44C17.763 15 17.301 15 17.03 15H17a1 1 0 0 1-.707-1.707c.869-.869 1.261-1.687 1.41-2.53c.102-.576.095-1.197.01-1.9c-.804.347-1.403.741-2.006 1.344A1 1 0 0 1 14 9.5c0-1.161-.416-2.225-.964-3.068A6 6 0 0 0 12 5.215a6 6 0 0 0-1.036 1.217C10.416 7.275 10 8.34 10 9.5a1 1 0 0 1-1.707.707c-.603-.603-1.201-.997-2.005-1.345c-.086.704-.092 1.325.01 1.902c.148.842.54 1.66 1.41 2.53A1 1 0 0 1 7 15h-.03c-.27 0-.733-.001-1.416.285c.191.137.438.286.756.44c.924.446 2.396.9 4.69 1.17V14a1 1 0 1 1 2 0z"
      />
    </svg>
  </div>
</template>

<style lang="scss" scoped>
.Loading {
  display: flex;
  justify-content: center;
  align-items: center;

  &.container {
    background: white;
    border-radius: 20px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
  }
}

.leaf {
  width: 120px;
  height: 120px;
}

.leaf path {
  fill: none;
  stroke: #2e7d32;
  stroke-width: 1.2;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-dasharray: 400;
  stroke-dashoffset: 400;
  animation: drawLeaf 3s ease-in-out forwards infinite;
}

@keyframes drawLeaf {
  0% {
    stroke-dashoffset: 400;
    fill-opacity: 0;
  }

  60% {
    stroke-dashoffset: 0;
    fill-opacity: 0;
  }

  100% {
    stroke-dashoffset: 0;
    fill-opacity: 0.2;
  }
}

.leaf path.fill {
  fill: #4caf50;
  fill-opacity: 0;
  stroke: none;
  animation: fillLeaf 3s ease-in-out forwards infinite;
}

@keyframes fillLeaf {
  0%,
  60% {
    fill-opacity: 0;
  }

  100% {
    fill-opacity: 0.2;
  }
}
</style>
